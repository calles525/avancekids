<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Services</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="images/fevicon.png" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <!-- fonts -->
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,700|Roboto:400,700&display=swap" rel="stylesheet">
      <!-- owl stylesheets --> 
      <link rel="stylesheet" href="css/owl.carousel.min.css">
      <link rel="stylesheet" href="css/owl.theme.default.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      
      <!-- Estilos para el panel de notificaciones -->
      <style>
         .notification-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 500px;
            width: 90%;
         }
         .notification-panel h3 {
            margin-top: 0;
            color: #333;
         }
         .notification-form .form-group {
            margin-bottom: 15px;
         }
         .notification-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
         }
         .notification-form input,
         .notification-form textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
         }
         .notification-form textarea {
            height: 100px;
         }
         .notification-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
         }
         .notification-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
         }
         .send-btn {
            background: #4CAF50;
            color: white;
         }
         .close-btn {
            background: #f44336;
            color: white;
         }
         .admin-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 999;
         }
         .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
         }
      </style>
   </head>
   <body>
      <!-- header section start -->
      <div class="header_section">
         <div class="container-fluid">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
               <a class="navbar-brand" href="index.html"><img src="images/logo.png"></a>
               <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav mr-auto">
                     <li class="nav-item active">
                        <a class="nav-link" href="index.html">Home</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="services.html">Services</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="client.html">Client</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="Contact.html">Contact Us</a>
                     </li>
                  </ul>
                  <form class="form-inline my-2 my-lg-0">
                     <div class="user_icon"><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></div>
                     <div class="user_icon"><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a></div>
                  </form>
                  <div class="call_btn"><a href="#"><i class="fa fa-phone" aria-hidden="true"></i><span class="padding_left10">Call : +1234567890</span></a></div>
               </div>
            </nav>
         </div>
      </div>
      <!-- header section start -->
      <!-- service section start -->
      <div class="service_section layout_padding">
         <div class="container">
            <h1 class="service_taital">Our Classes</h1>
            <div class="service_section_2 layout_padding">
               <div class="owl-carousel owl-theme">
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-1.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Rock <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-2.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Hip Hop <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-1.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Style <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-1.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Rock <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-1.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Rock <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-2.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Hip Hop <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
                  <div class="item">
                     <div class="image_box">
                        <img src="images/img-1.png" alt="#" />
                     </div>
                     <h3 class="sound_text">Style <br>Dance</h3>
                     <div class="buy_bt"><a href="#">Read More</a></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- service section end -->
      
      <!-- Botón flotante para administrador -->
      <button class="admin-btn" id="adminBtn">🔔</button>
      
      <!-- Panel de notificaciones -->
      <div class="overlay" id="overlay"></div>
      <div class="notification-panel" id="notificationPanel">
         <h3>Enviar Notificación Push</h3>
         <form class="notification-form" id="notificationForm">
            <div class="form-group">
               <label for="notificationTitle">Título:</label>
               <input type="text" id="notificationTitle" placeholder="Título de la notificación" required>
            </div>
            <div class="form-group">
               <label for="notificationMessage">Mensaje:</label>
               <textarea id="notificationMessage" placeholder="Mensaje de la notificación" required></textarea>
            </div>
            <div class="form-group">
               <label for="notificationUrl">URL (opcional):</label>
               <input type="url" id="notificationUrl" placeholder="https://tusitio.com">
            </div>
            <div class="notification-buttons">
               <button type="button" class="close-btn" id="closePanel">Cerrar</button>
               <button type="submit" class="send-btn">Enviar</button>
            </div>
         </form>
      </div>

      <!-- footer section start -->
      <div class="footer_section margin_top90">
         <div class="location_bg">
            <div class="container">
               <div class="location_main">
                  <ul>
                     <li>
                        <a href="#"><img src="images/map-icon.png">
                        <span class="padding_15">Location</span></a>
                     </li>
                     <li>
                        <a href="#"><img src="images/call-icon.png">
                        <span class="padding_15">Call +01 1234567890</span></a>
                     </li>
                     <li>
                        <a href="#"><img src="images/mail-icon.png">
                        <span class="padding_15">demo@gmail.com</span></a>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
         <div class="map_main">
            <div class="map-responsive">
               <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&amp;q=Eiffel+Tower+Paris+France" width="600" height="400" frameborder="0" style="border:0; width: 100%;" allowfullscreen=""></iframe>
            </div>
         </div>
      </div>
      <!-- footer section end -->
      <!-- copyright section start -->
      <div class="copyright_section">
         <div class="container">
            <p class="copyright_text">© 2020 All Rights Reserved.Design by <a href="https://html.design">Free html  Templates</a> Distribution by <a href="https://themewagon.com/">Themewagon</a></p>
         </div>
      </div>
      <!-- copyright section end -->
      <!-- Javascript files-->
      <script src="js/jquery.min.js"></script>
      <script src="js/popper.min.js"></script>
      <script src="js/bootstrap.bundle.min.js"></script>
      <script src="js/jquery-3.0.0.min.js"></script>
      <script src="js/plugin.js"></script>
      <!-- sidebar -->
      <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="js/custom.js"></script>
      <!-- javascript --> 
      <script src="js/owl.carousel.js"></script>
      <script>
         $('.owl-carousel').owlCarousel({
            loop:true,
            margin:35,
            nav:true,
            center: true,
            responsive:{
             0:{
                 items:1,
                    margin:0
                  },
                575:{
                    items:1,
                    margin:0
                },
                768:{
                    items:3,
                    margin:0
                },
                1000:{
                    items:3
                }
            }
         });

         // Código para notificaciones push
         if ('Notification' in window && 'serviceWorker' in navigator) {
            // Solicitar permiso para notificaciones
            function requestNotificationPermission() {
               Notification.requestPermission().then(function(permission) {
                  if (permission === 'granted') {
                     console.log('Permiso para notificaciones concedido');
                     registerServiceWorker();
                  } else {
                     console.log('Permiso para notificaciones denegado');
                  }
               });
            }

            // Mostrar botón para activar notificaciones
            function showEnableNotificationsButton() {
               const notificationButton = document.createElement('button');
               notificationButton.textContent = 'Activar Notificaciones';
               notificationButton.style.cssText = `
                  margin: 10px;
                  padding: 10px 20px;
                  background-color: #4CAF50;
                  color: white;
                  border: none;
                  border-radius: 5px;
                  cursor: pointer;
               `;
               notificationButton.addEventListener('click', requestNotificationPermission);
               
               document.querySelector('.copyright_section').prepend(notificationButton);
            }

            // Registrar Service Worker
            function registerServiceWorker() {
               navigator.serviceWorker.register('sw.js').then(function(registration) {
                  console.log('ServiceWorker registrado con éxito:', registration.scope);
                  return registration.pushManager.getSubscription()
                     .then(function(subscription) {
                        if (subscription) {
                           return subscription;
                        }
                        
                        // Clave pública VAPID - ¡REEMPLAZA ESTA CON TU CLAVE PÚBLICA!
                        const publicVapidKey = 'BOEQSjdhorIf8M0XFNlwohK3sTzO9iJwvbYU-fuXRF0tRTkFYkmJWgUel7WoK7qFC2lUQPO2qJq2qOXH8f6yXZg';
                        
                        return registration.pushManager.subscribe({
                           userVisibleOnly: true,
                           applicationServerKey: urlBase64ToUint8Array(publicVapidKey)
                        });
                     });
               }).then(function(subscription) {
                  console.log('Usuario suscrito:', subscription);
                  // Aquí normalmente enviarías la suscripción a tu servidor
                  // Para este ejemplo, lo guardamos en localStorage
                  localStorage.setItem('pushSubscription', JSON.stringify(subscription));
               }).catch(function(error) {
                  console.log('Error al registrar ServiceWorker:', error);
               });
            }

            // Función auxiliar para convertir la clave VAPID
            function urlBase64ToUint8Array(base64String) {
               const padding = '='.repeat((4 - base64String.length % 4) % 4);
               const base64 = (base64String + padding)
                  .replace(/-/g, '+')
                  .replace(/_/g, '/');

               const rawData = window.atob(base64);
               const outputArray = new Uint8Array(rawData.length);

               for (let i = 0; i < rawData.length; ++i) {
                  outputArray[i] = rawData.charCodeAt(i);
               }
               return outputArray;
            }

            // Verificar si ya tenemos permisos
            document.addEventListener('DOMContentLoaded', function() {
               if (Notification.permission === 'granted') {
                  registerServiceWorker();
               } else if (Notification.permission !== 'denied') {
                  showEnableNotificationsButton();
               }
            });
         }

         // Panel de administración de notificaciones
         document.addEventListener('DOMContentLoaded', function() {
            const adminBtn = document.getElementById('adminBtn');
            const overlay = document.getElementById('overlay');
            const notificationPanel = document.getElementById('notificationPanel');
            const closePanel = document.getElementById('closePanel');
            const notificationForm = document.getElementById('notificationForm');

            adminBtn.addEventListener('click', function() {
               overlay.style.display = 'block';
               notificationPanel.style.display = 'block';
            });

            closePanel.addEventListener('click', function() {
               overlay.style.display = 'none';
               notificationPanel.style.display = 'none';
            });

            overlay.addEventListener('click', function() {
               overlay.style.display = 'none';
               notificationPanel.style.display = 'none';
            });

            notificationForm.addEventListener('submit', function(e) {
               e.preventDefault();
               
               const title = document.getElementById('notificationTitle').value;
               const message = document.getElementById('notificationMessage').value;
               const url = document.getElementById('notificationUrl').value || window.location.href;
               
               // En una implementación real, aquí enviarías la notificación al servidor
               // Para este ejemplo, mostramos un mensaje de éxito
               alert(`Notificación preparada para enviar:\nTítulo: ${title}\nMensaje: ${message}\nURL: ${url}`);
               
               // Limpiar el formulario
               notificationForm.reset();
               overlay.style.display = 'none';
               notificationPanel.style.display = 'none';
            });
         });
      </script>   
   </body>
</html>